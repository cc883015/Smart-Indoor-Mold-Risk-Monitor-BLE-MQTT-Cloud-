# ğŸŒ¡ï¸ Smart Indoor Mold-Risk Monitor (BLE â†” MQTT â†” Cloud)

**Author:** CC
**Stack:** Arduino Nano 33 IoT + DHT11 + RGB LED + Buzzer + Raspberry Pi (BLEâ†”MQTT) + AWS EC2 (Mosquitto)

---

## Project Overview / é¡¹ç›®æ¦‚è¿°

This project implements a **3-tier IoT system** for **indoor mold risk detection and alerting**, using:
- **BLE (Bluetooth Low Energy)** for local wireless communication  
- **MQTT (Message Queuing Telemetry Transport)** for cloud integration

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºç‰©è”ç½‘ï¼ˆIoTï¼‰çš„**å®¤å†…éœ‰èŒé£é™©æ£€æµ‹ä¸å‘Šè­¦ç³»ç»Ÿ**ï¼Œé‡‡ç”¨ï¼š
- **BLE è“ç‰™ä½åŠŸè€—åè®®** å®ç°è®¾å¤‡å±‚åˆ°è¾¹ç¼˜å±‚é€šä¿¡  
- **MQTT åè®®** å®ç°äº‘ç«¯æ•°æ®ä¼ è¾“ä¸æ§åˆ¶æŒ‡ä»¤ä¸‹å‘

---

##  System Architecture / ç³»ç»Ÿæ¶æ„

###  Tier 1 â€“ Device Layer (Arduino Nano 33 IoT)

| Component | Function |
|------------|-----------|
| DHT11 Sensor | Measures temperature & humidity |
| RGB LED | Green = Safe, Red = Alert |
| Buzzer | Audio alarm when risk detected |
| BLE Service | `sensorChar` for Notify, `commandChar` for Write |

**Condition Logic:**
-  *Comfort (Green)*: 22â€“26 Â°C & 40â€“60% RH  
-  *Risk (Red)*: if T â‰¤ 19 Â°C or RH â‰¥ 70%

**Arduino Role:**
- Collect environmental data  
- Send JSON sensor info via BLE Notify  
- React to incoming BLE commands (LED ON/OFF)

---

###  Tier 2 â€“ Edge Layer (Raspberry Pi Gateway)

| Component | Description |
|------------|--------------|
| **Bleak (Python)** | Connects to Arduino via BLE |
| **paho-mqtt** | Publishes & subscribes messages to EC2 |
| **MQTT Topics** | - `hotel/room1/sensor` (data)<br>- `hotel/room1/cmd` (commands) |

**Process Flow:**
1. Receive sensor JSON data via BLE  
2. Publish to MQTT topic `hotel/room1/sensor`  
3. Listen for commands from topic `hotel/room1/cmd`  
4. Send commands to Arduino via BLE Write

Example data:
```json
{"temperature":18.5,"humidity":75.2,"status":"ALERT"}
